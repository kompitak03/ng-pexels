"use strict";(self.webpackChunkng_pexels=self.webpackChunkng_pexels||[]).push([[636],{928:($,E,t)=>{t.d(E,{L:()=>c,M:()=>S});var u=t(4650),d=t(6601),p=t(4004),v=t(9635),h=t(8372),f=t(8505),l=t(6777);class c extends d.m1{constructor(){super(...arguments),this.appConfig=(0,l.t)(),this.currentPage$=this.select(i=>i.currentPage),this.paginator$=this.select({pageIndex:this.currentPage$.pipe((0,p.U)(i=>i-1)),pageSize:this.select(i=>i.pageSize),total:this.select(i=>i.total)},{debounce:!0}),this.setTotal=this.updater((i,g)=>({...i,total:g})),this.setPage=this.effect((0,v.z)((0,h.b)(250),(0,f.b)(i=>{this.patchState({currentPage:i})})))}ngrxOnStoreInit(){this.setState({currentPage:1,pageSize:this.appConfig.pexels.pageSize,total:0})}static#t=this.\u0275fac=function(){let i;return function(x){return(i||(i=u.n5z(c)))(x||c)}}();static#e=this.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac})}function S(){return(0,u.f3M)(c)}},1786:($,E,t)=>{t.d(E,{ab:()=>P,pP:()=>W,nX:()=>K});var u=t(4650),d=t(6601),p=t(9635),v=t(3900),h=t(9770),f=t(8505),l=t(262),c=t(515),S=t(1365),m=t(3179),i=t(928),g=t(529),x=t(6777);class y{constructor(){this.httpClient=(0,u.f3M)(g.eN),this.appConfig=(0,x.t)()}randomPhotos(r=1){return this.httpClient.get(`${this.appConfig.baseUrl}/curated`,{params:{per_page:this.appConfig.pexels.pageSize,page:r}})}searchPhotos(r,I=1){return this.httpClient.get(`${this.appConfig.baseUrl}/search`,{params:{per_page:this.appConfig.pexels.pageSize,page:I,query:r}})}static#t=this.\u0275fac=function(I){return new(I||y)};static#e=this.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}const[P,C]=(0,m._)("Default Query"),[L,j]=(0,m._)("With Search");class M extends d.m1{constructor(){super(...arguments),this.pexelsService=function D(){return(0,u.f3M)(y)}(),this.paginationStore=(0,i.M)(),this.defaultQuery=P(),this.withSearch=L(),this.photos$=this.select(r=>r.photos),this.query$=this.select(r=>r.query),this.vm$=this.select({photos:this.photos$,query:this.query$,withSearch:this.select(r=>r.withSearch)},{debounce:!0}),this.getPhotos=this.effect((0,p.z)((0,v.w)(({query:r,page:I})=>(0,h.P)(()=>r?this.pexelsService.searchPhotos(r,I):this.pexelsService.randomPhotos(I)).pipe((0,f.b)(T=>{this.paginationStore.setTotal(T.total_results),this.patchState({photos:T.photos})}),(0,l.K)(()=>c.E))))),this.setQuery=this.effect((0,p.z)((0,S.M)(this.query$),(0,f.b)(([r,I])=>{I&&!r&&this.paginationStore.setPage(1),this.patchState({query:r})})))}ngrxOnStoreInit(){this.setState({photos:[],query:this.defaultQuery,withSearch:this.withSearch})}ngrxOnStateInit(){this.getPhotos(this.select({page:this.paginationStore.currentPage$,query:this.query$},{debounce:!0}))}static#t=this.\u0275fac=function(){let r;return function(T){return(r||(r=u.n5z(M)))(T||M)}}();static#e=this.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac})}function K(U="",r=!1){return[(0,d.E6)(M),C(U),j(r)]}function W(){return(0,u.f3M)(M)}},3636:($,E,t)=>{t.r(E),t.d(E,{default:()=>h});var u=t(6601),d=t(1786),p=t(928);const h=[{path:"",providers:[],children:[{path:"",providers:[(0,u.E6)(p.L),(0,d.nX)("computer",!0)],loadComponent:()=>Promise.all([t.e(230),t.e(81)]).then(t.bind(t,8081))},{path:"random",providers:[(0,u.E6)(p.L),(0,d.nX)()],loadComponent:()=>Promise.all([t.e(230),t.e(81)]).then(t.bind(t,8081))}]}]},4707:($,E,t)=>{t.d(E,{t:()=>p});var u=t(7579),d=t(6063);class p extends u.x{constructor(h=1/0,f=1/0,l=d.l){super(),this._bufferSize=h,this._windowTime=f,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=f===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,f)}next(h){const{isStopped:f,_buffer:l,_infiniteTimeWindow:c,_timestampProvider:S,_windowTime:m}=this;f||(l.push(h),!c&&l.push(S.now()+m)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const f=this._innerSubscribe(h),{_infiniteTimeWindow:l,_buffer:c}=this,S=c.slice();for(let m=0;m<S.length&&!h.closed;m+=l?1:2)h.next(S[m]);return this._checkFinalizedStatuses(h),f}_trimBuffer(){const{_bufferSize:h,_timestampProvider:f,_buffer:l,_infiniteTimeWindow:c}=this,S=(c?1:2)*h;if(h<1/0&&S<l.length&&l.splice(0,l.length-S),!c){const m=f.now();let i=0;for(let g=1;g<l.length&&l[g]<=m;g+=2)i=g;i&&l.splice(0,i+1)}}}},1365:($,E,t)=>{t.d(E,{M:()=>l});var u=t(4482),d=t(5403),p=t(8421),v=t(4671),h=t(5032),f=t(3269);function l(...c){const S=(0,f.jO)(c);return(0,u.e)((m,i)=>{const g=c.length,x=new Array(g);let y=c.map(()=>!1),D=!1;for(let P=0;P<g;P++)(0,p.Xf)(c[P]).subscribe((0,d.x)(i,C=>{x[P]=C,!D&&!y[P]&&(y[P]=!0,(D=y.every(v.y))&&(y=null))},h.Z));m.subscribe((0,d.x)(i,P=>{if(D){const C=[P,...x];i.next(S?S(...C):C)}}))})}},5191:($,E,t)=>{t.d(E,{b:()=>p});var u=t(9751),d=t(576);function p(v){return!!v&&(v instanceof u.y||(0,d.m)(v.lift)&&(0,d.m)(v.subscribe))}},6601:($,E,t)=>{t.d(E,{m1:()=>Z,E6:()=>Y});var u=t(9751),d=t(727),p=t(3101),v=t(4707),h=t(5191),f=t(9646),l=t(4408),S=t(7565);const i=new class m extends S.v{}(class c extends l.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,s=0){return null!=s&&s>0||null==s&&this.delay>0?super.requestAsyncId(n,e,s):(n.flush(this),0)}});var x=t(515),y=t(2843),D=t(7159),P=t(9841),C=t(7579),L=t(5698),j=t(5363),M=t(8505),K=t(1365),W=t(4004),U=t(262),r=t(2722),I=t(1884),T=t(3099),A=t(4650);function z(o){return"function"==typeof o.ngrxOnStoreInit}function B(o){return"function"==typeof o.ngrxOnStateInit}function Y(o){const n=new A.OlP("@ngrx/component-store ComponentStore with Hooks");return[{provide:n,useClass:o},{provide:o,useFactory:()=>{const e=(0,A.f3M)(n);return e.\u0275hasProvider=!0,z(e)&&e.ngrxOnStoreInit(),B(e)&&e.state$.pipe((0,L.q)(1)).subscribe(()=>e.ngrxOnStateInit()),e}}]}const N=new A.OlP("@ngrx/component-store Initial State");let Z=(()=>{class o{constructor(e){this.destroySubject$=new v.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new v.t(1),this.isInitialized=!1,this.state$=this.select(s=>s),this.\u0275hasProvider=!1,e&&this.initState(e),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return s=>{let O,a=!0;const b=((0,h.b)(s)?s:(0,f.of)(s)).pipe((0,j.Q)(i),(0,M.b)(()=>this.assertStateIsInitialized()),(0,K.M)(this.stateSubject$),(0,W.U)(([R,w])=>e(w,R)),(0,M.b)(R=>this.stateSubject$.next(R)),(0,U.K)(R=>a?(O=R,x.E):(0,y._)(()=>R)),(0,r.R)(this.destroy$)).subscribe();if(O)throw O;return a=!1,b}}initState(e){(0,D.x)([e],i).subscribe(s=>{this.isInitialized=!0,this.stateSubject$.next(s)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const s="function"==typeof e?e(this.get()):e;this.updater((a,O)=>({...a,...O}))(s)}get(e){let s;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,L.q)(1)).subscribe(a=>{s=e?e(a):a}),s}select(...e){const{observablesOrSelectorsObject:s,projector:a,config:O}=function G(o){const n=Array.from(o);let e={debounce:!1};if(function J(o){return typeof o.debounce<"u"}(n[n.length-1])&&(e={...e,...n.pop()}),1===n.length&&"function"!=typeof n[0])return{observablesOrSelectorsObject:n[0],projector:void 0,config:e};const s=n.pop();return{observablesOrSelectorsObject:n,projector:s,config:e}}(e);return(function V(o,n){return Array.isArray(o)&&0===o.length&&n}(s,a)?this.stateSubject$:(0,P.a)(s)).pipe(O.debounce?function H(){return o=>new u.y(n=>{let e,s;const a=new d.w0;return a.add(o.subscribe({complete:()=>{e&&n.next(s),n.complete()},error:O=>{n.error(O)},next:O=>{s=O,e||(e=p.E.schedule(()=>{n.next(s),e=void 0}),a.add(e))}})),a})}():o=>o,a?(0,W.U)(b=>s.length>0&&Array.isArray(b)?a(...b):a(b)):o=>o,(0,I.x)(),function X(o,n,e){let s,a=!1;return o&&"object"==typeof o?({bufferSize:s=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:e}=o):s=o??1/0,(0,T.B)({connector:()=>new v.t(s,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}({refCount:!0,bufferSize:1}),(0,r.R)(this.destroy$))}effect(e){const s=new C.x;return e(s).pipe((0,r.R)(this.destroy$)).subscribe(),a=>((0,h.b)(a)?a:(0,f.of)(a)).pipe((0,r.R)(this.destroy$)).subscribe(F=>{s.next(F)})}checkProviderForHooks(){p.E.schedule(()=>{if((0,A.X6Q)()&&(z(this)||B(this))&&!this.\u0275hasProvider){const e=[z(this)?"OnStoreInit":"",B(this)?"OnStateInit":""].filter(s=>s);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${e.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return o.\u0275fac=function(e){return new(e||o)(A.LFG(N,8))},o.\u0275prov=A.Yz7({token:o,factory:o.\u0275fac}),o})()}}]);